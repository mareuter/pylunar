[tox]
env_list = py
min_version = 4

[testenv]
description = Setup base environment
use_develop = true

[testenv:py]
description = Run pytest with coverage
extras = test
commands =
    coverage run -m pytest --doctest-glob=docs/usage.rst {tty:--color=yes} {posargs}

[testenv:coverage-report]
description = Compile coverage from each test run.
extras = test
depends =
    py
commands =
    coverage report